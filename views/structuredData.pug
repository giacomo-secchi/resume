-
    const sectionsSafe = Array.isArray(sections) ? sections : [];
    const occupations = [];
    const education = [];
    const skills = [];
    const languages = [];

    // Processa ogni sezione
    sectionsSafe.forEach(section => {
        if (section.type === "Article") {
            return;
        }
    
        processOrganizations(section);
        processLists(section);

        
    });

    /**
    * Processa le organizzazioni dalla sezione
    */
    function processOrganizations(section) {
    if (!Array.isArray(section.organizations)) return;

        section.organizations.forEach(organization => {
            if (!organization?.name) return;

            if (organization.type) {
            processEducationalOrganization(organization);
            } else {
            processEmployeeRole(organization);
            }
        });
    }

    /**
    * Crea e aggiunge un'organizzazione educativa
    */
    function processEducationalOrganization(org) {
        const educationalOrg = {
            "@type": "EducationalOrganization",
            name: org.name
        };

        if (org.address) {
            educationalOrg.address = createPostalAddress(org.address);
        }

        education.push(educationalOrg);
    }

    /**
    * Crea e aggiunge un ruolo lavorativo
    */
    function processEmployeeRole(org) {
        const employeeRole = {
            "@type": "EmployeeRole",
            roleName: org.title || "",
            startDate: org.date?.start,
            endDate: org.date?.end,
            name: org.name
        };

        occupations.push(employeeRole);
    }

    /**
    * Crea un indirizzo postale strutturato
    */
    function createPostalAddress(address) {
        const postalAddress = { "@type": "PostalAddress" };
        
        const addressFields = {
            streetAddress: address.streetAddress,
            addressLocality: address.addressLocality,
            addressRegion: address.addressRegion,
            postalCode: address.postalCode,
            addressCountry: address.addressCountry
        };

        Object.entries(addressFields).forEach(([key, value]) => {
            if (value) postalAddress[key] = value;
        });

        return postalAddress;
    }

    /**
    * Processa liste di skills e languages
    */
    function processLists(section) {
        if (!Array.isArray(section.lists)) return;

        section.lists.forEach(list => {
            if (!Array.isArray(list)) return;

            list.forEach(item => {
            if (!item) return;
                skills.push(item);
            });
        });
    
    }

script(type="application/ld+json").
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Giacomo Secchi",
    "jobTitle": "Web Developer / Ecommerce Specialist",
    "url": "https://giacomosecchi.com",
    "sameAs": [
      "https://giacomosecchi.com/portfolio",
      "https://github.com/giacomo-secchi",
      "https://www.linkedin.com/in/giacomosecchi/"
    ],
    "image": "https://www.gravatar.com/avatar/cacd939ed4fbbea7e739d737e3411dc3",   
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Modena",
      "postalCode": "41121",
      "addressCountry": "IT"
    },
    "telephone": "+393407119634",
    "email": "info@giacomosecchi.com",
    "hasOccupation": !{JSON.stringify(occupations,null,2)},
    "alumniOf": !{JSON.stringify(education, null, 2)},
    "skills": !{JSON.stringify(skills, null, 2)},
    "knowsLanguage": !{JSON.stringify(languages, null, 2)}
  }